<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{margin:0;padding:0;}
		body{
			background:#000;
			text-align:center; 
		}
		canvas{background:#fff;}
	</style>
	<script>
		window.onload=function(){
			var oC=document.querySelector('canvas');
			var gd=oC.getContext('2d');
			var l=100,t=200,w=300,h=200;
			gd.strokeRect(l,t,w,h);
			// alert(oC)
			oC.onmousedown=function(ev){
				var r = l+w;  
				var b = t+h;
				var x = ev.pageX-oC.offsetLeft;
				var y = ev.pageY-oC.offsetTop;
				
				if(x>=l&& x<=r && y>=t && y<=b){
					var disX = x-l;
					var disY = y-t;

					document.onmousemove=function(ev){
				gd.clearRect(0,0,oC.width,oC.height);

						var x = ev.pageX-oC.offsetLeft,y = ev.pageY-oC.offsetTop;
						l = x-disX;
						t = y-disY;
						if(l<0)
							l=0;
						if(l>oC.width-w)
							l=oC.width-w;
						if(t<0)
							t=0;
						if(t>oC.height-h){
							t=oC.height-h; 
						}	 	

						gd.strokeRect(l,t,w,h)  
					};
					document.onmouseup=function(){
						document.onmousemove=null;
						document.onmouseup=null;
					};
					return false;	
				};				
			};
		};
	</script>
</head>
<body>
	<canvas width="800" height="700"></canvas>
</body>
</html>